<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>CSS DEV TOOL 2000</title>
  <style>
    :root {
      --radius: 8px;
      --padding: 20px;
      --border: 2px;
      --shadow: 8px;
      --scale: 1;
      --transition: 200ms;
    }

    * { box-sizing: border-box; font-family: Tahoma, Verdana, Arial, sans-serif; }
    body { margin: 0; background: #000; color: #0f0; }
    .app { max-width: 1100px; margin: 20px auto; border: 3px ridge #666; background: #111; }

    /* FAKE WINDOWS TITLE BAR */
    .winbar {
      display: flex; justify-content: space-between; align-items: center;
      background: linear-gradient(#1c3b6f, #10244a);
      color: #fff; padding: 6px 10px; font-size: 12px;
    }
    .winbtns span { display:inline-block; width:18px; text-align:center; border:1px solid #000; background:#ccc; color:#000; margin-left:2px; }

    h1 { margin: 12px; font-size: 18px; }

    .tabs { display:flex; gap:2px; margin:0 12px 10px; }
    .tab { padding:6px 14px; background:#222; border:2px outset #555; cursor:pointer; }
    .tab.active { border:2px inset #999; background:#111; }

    .preview-wrapper { border:3px inset #444; padding:12px; background:#222; margin:12px; }
    .preview.desktop { width:100%; }
    .preview.mobile { width:375px; margin:auto; }

    .section-preview {
      background:#ccc;
      border-radius:var(--radius);
      padding:var(--padding);
      border:var(--border) solid #333;
      box-shadow: inset 0 0 0 rgba(0,0,0,.5), 0 var(--shadow) var(--shadow) rgba(0,0,0,.5);
      color:#000;
      transition: all var(--transition) linear;
      transform: scale(var(--scale));
    }
    .section-preview.force-hover{filter:hue-rotate(30deg)}
    .section-preview.force-active{transform:scale(0.96)}
    .section-preview.force-focus{outline:3px dotted red}

    .controls{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px;margin:12px}
    .control{background:#000;border:2px inset #333;padding:8px}
    label{font-size:11px;display:block;margin-bottom:4px}
    input,select,textarea,button{width:100%;font-family:inherit}

    .ini-editor textarea{
      background:#000;color:#0f0;border:2px inset #333;padding:8px;height:160px;font-family:monospace
    }

    .code{margin:12px;border:3px ridge #555;background:#000;padding:12px;position:relative}
    pre{margin:0;color:#0f0;font-size:12px}
    .copy{position:absolute;top:6px;right:6px}
  </style>
</head>
<body>

<div class="app">
  <div class="winbar">
    <span class="title">CSS DEV TOOL 2000 — untitled.ini</span>
    <div class="winbtns">
      <span>_</span><span>□</span><span>X</span>
    </div>
  </div>
  <h1>CSS SECTION GENERATOR — DEV TOOL 2000</h1>

  <div class="tabs">
    <div class="tab active" data-state="default">DEFAULT</div>
    <div class="tab" data-state="hover">HOVER</div>
    <div class="tab" data-state="active">ACTIVE</div>
    <div class="tab" data-state="focus">FOCUS</div>
  </div>

  <div class="toggles">
    <label><input type="checkbox" id="forceHover"> force hover</label>
    <label><input type="checkbox" id="forceFocus"> force focus</label>
    <label><input type="checkbox" id="forceActive"> force active</label>
  </div>

  <div class="preview-wrapper">
    <div class="preview desktop" id="preview">
      <section class="section-preview" tabindex="0">
        <h2>LOREM IPSUM</h2>
        <p>Brutalist preview box. Hover. Focus. Destroy.</p>
      </section>
    </div>
  </div>

  <div class="controls">
    <div class="control"><label>Padding</label><input type="range" min="0" max="60" id="padding"></div>
    <div class="control"><label>Radius</label><input type="range" min="0" max="40" id="radius"></div>
    <div class="control"><label>Border</label><input type="range" min="0" max="10" id="border"></div>
    <div class="control"><label>Shadow</label><input type="range" min="0" max="30" id="shadow"></div>
    <div class="control"><label>Transition (ms)</label><input type="range" min="0" max="1000" id="transition"></div>
    <div class="control"><label>Easing</label>
      <select id="easing">
        <option>linear</option><option>ease</option><option>steps(4)</option><option>cubic-bezier(0.1,0.9,0.2,1.4)</option>
      </select>
    </div>
  </div>

  <div class="controls">
    <div class="control"><button id="undo">UNDO</button></div>
    <div class="control"><button id="redo">REDO</button></div>
    <div class="control"><button id="breakCss">BREAK CSS</button></div>
  </div>

  <div class="ini-editor">
    <textarea id="ini"></textarea>
  </div>
</div>
</div>

<div class="code">
  <button class="copy" id="copy">COPY</button>
  <pre id="cssCode"></pre>
</div>
</div>

<script>
  let history=[];let redoStack=[];
  const preview=document.querySelector('.section-preview');

  function snapshot(){history.push(JSON.stringify(stateStyles));if(history.length>50)history.shift();redoStack=[]}

  function restore(data){Object.assign(stateStyles,JSON.parse(data));applyState();renderIni()}

  undo.onclick=()=>{if(history.length){redoStack.push(JSON.stringify(stateStyles));restore(history.pop())}}
  redo.onclick=()=>{if(redoStack.length){history.push(JSON.stringify(stateStyles));restore(redoStack.pop())}}

  breakCss.onclick=()=>{
    padding.value=Math.random()*60;
    radius.value=Math.random()*40;
    border.value=Math.random()*10;
    shadow.value=Math.random()*30;
    transition.value=Math.random()*1000;
    snapshot();update();
  }

  function renderIni(){
    ini.value=Object.entries(stateStyles).map(([k,v])=>`[${k}]\n`+Object.entries(v).map(([p,val])=>`${p}=${val}`).join('\n')).join('\n\n')
  }

  ini.oninput=()=>{
    const blocks=ini.value.split(/\n\n+/);
    blocks.forEach(b=>{
      const [head,...lines]=b.split('\n');
      const key=head.replace(/[\[\]]/g,'');
      if(stateStyles[key]){
        stateStyles[key]={};
        lines.forEach(l=>{const [p,v]=l.split('=');if(p&&v)stateStyles[key][p]=v});
      }
    });
    applyState();
  }
</script>

</body>
</html>
